#!/bin/bash

cd "$(dirname "$0")"
export PS4='    '
set -ex


# tmux
echo TMUX
cp tmux.conf ~/.tmux.conf


# vim
echo VIM
cp vimrc ~/.vimrc
mkdir -p ~/.vim/autoload/
cp vim/autoload/* ~/.vim/autoload
tar -C ~/.vim/ -xf vim/plugged.tar.gz


# bash
echo BASH
if \
  [ ! -f ~/.config/bash/microdot.üè≥Ô∏è ] &&
  [ -f ~/.bashrc ] &&
  [ ! -f ~/.config/bash/original.sh ]
then
  mkdir -p ~/.config/bash/
  mv ~/.bashrc ~/.config/bash/original.sh
fi
touch ~/.config/bash/microdot.üè≥Ô∏è
cp bashrc ~/.bashrc


# git
echo GIT
mkdir -p ~/.config/git
cp git/config ~/.config/git/config
cp git/ignore ~/.config/git/ignore

if [ -f ~/.gitconfig ]
then
  mv ~/.gitconfig ~/.config/git/config.local
fi

if [ -f ~/.gitignore ]
then
  mv ~/.gitignore ~/.config/git/ignore.local
fi
